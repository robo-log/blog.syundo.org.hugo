+++
date = "2007-09-30T18:20:56+09:00"
draft = false
title = "RCB-1を攻略しようぜまたーりと(5)"
categories = ["未分類"]
slug = "690"
+++

<p>今回はKONDOロボット用コントローラーKRC-1の受信機KRR-1からの信号について。</p>

<p>いつかの日記でKRR-1からの信号はスタートビット等がマイコンと反転しているので、そのまま繋ぐと読み取れないということを書いたと思います。<br />それで、今回は74HC04をPD0にかませて、反転させました。（マイコン側の形式を反転させる方法があるかもしれませんが僕にはわからない～）</p>

<p>反転させた受信機からの信号は以下のようになります。<br />2400bps,8ビット,ストップビット1,パリティ無し,フロー制御無し</p>

<p>＜シフト＞<br />無し　：<del>0xf0</del><span style="color: #cc0033;"> 0x0f</span><br />左手上：<del>0xf1</del> <span style="color: #cc0033;">0x1f</span><br />左手下：<del>0xf2</del> <span style="color: #cc0033;">0x2f</span><br />右手上：<del>0xf4</del> <span style="color: #cc0033;">0x4f</span><br />右手下：<del>0xf8</del> <span style="color: #cc0033;">0x8f</span></p>

<p>＜ボタン左手＞<br />無し：0x00<br />上：0x01<br />右上：0x05<br />右：0x04<br />右下：0x06<br />下：0x02<br />左下：0x0A<br />左：0x08<br />左上：0x09</p>

<p>＜ボタン右手＞<br />無し：0x00<br />上：0x10<br />右上：0x50<br />右：0x40<br />右下：0x60<br />下：0x20<br />左下：0xA0<br />左：0x80<br />左上：0x90</p>

<p>信号は2バイトで、1バイト目がシフトキー、2バイト目が16個のボタンと対応しています。</p>

<p>なんか自分用のメモ的要素が強いです。というかメモです。</p>

<p><span style="color: #cc0033;">2010/10/9<br />間違いを発見、修正しました。<br />いやぁ、ずいぶんと長い間誤った情報を発信し続けていたのですねー・・・<br /></span></p>

