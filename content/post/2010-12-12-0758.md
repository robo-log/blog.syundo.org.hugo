+++
date = "2010-12-12T23:53:39+09:00"
draft = false
title = "角度計測"
categories = ["未分類"]
slug = "758"
+++

<p>またまた久しぶりの更新。</p>

<p>youubeで<a href="http://www.youtube.com/watch?v=VTWAJTsYNS0&amp;feature=related">とある動画</a>を見つけて、ジャイロセンサの出力を積分して動的な姿勢角を得る方法が思っていた以上に使えるのではないかと思った。</p>

<p>ジャイロセンサで角度を得ることは最近、<a href="http://plaza.rakuten.co.jp/nisiken2002/diary/201011210002/">普通の会社員の日記</a>の人のところで知っていたが（ロボット制御では割とよくやることなのか？）、ピッチ軸、ロール軸の動的角度を得られてもとても使いこなせないなと思っていた。（極座標→直交座標とか考えるだけでうう・・・。）<br />しかし、ヨー軸の動的角度は二足歩行ロボットを真っ直ぐ歩かせるために是非とも利用してみたいものではないか？この手の目的で地磁気センサやGPSなんかを検討したりしなかったりしたが、これはもしかしたら使えるかも。</p>

<p>問題はジャイロセンサの温度ドリフトや、積分回数を重ねるごとに累積する誤差。<br />ヨー軸方向を加速度センサで補償することはできないし、コンパスモジュールで補ったらよけいずれそう。<br />秋月の基盤で村田製作所のジャイロスターを使った物は、何も工夫しなければ左右に90°ずつ振るたびに3°くらいのずれが出てくるそうな。手元にあるAE-GYRO-SMDで自分でやってみれば早いのだが（汗<br />このずれを解消するのはなかなか難儀なものらしく・・・調べると先人達の苦労の跡が・・・。<br />まぁ結局、人間が操縦するわけだからある程度誤差が出てきても歩行を止める度にゼロ点リセットすればそんなに気にならないのかもしれない。どうだろう。</p>

<p>そしてWiiモーションプラスに使われているジャイロセンサがなかなかにドリフトが出にくく良い感じだという情報も発見。定価1500円で三軸のジャイロがついてくるなんて良いんじゃないかこれ。と思って条件反射的にポチッとな。在庫少ないらしく一個しか買わせてもらえなかった。</p>

<p>ただ、このWiiモーションプラス、調べても作例が何故かArduino使った物ばっかり・・・。モーションプラスとはI2Cで通信しなきゃいけないそうだが、それが理由なのかよくわからない。<br />あ、そしてよく考えたらSH7125ってI2Cモジュール無かった。どうしよう。<br />I/Oポートを直接叩いて通信してたりする作例を発見・・・。うっほ・・・。</p>

<p>村田製作ジャイロとwiiモーションプラス、どっちが近道なのかはよくわからない。（でも多分モーションプラスはタンスの肥やしに・・・）<br />でも当分のあいだ、これに熱中できそうである。</p>

<p>ほかにやるべき事がたくさんあるはずなのに。</p>

<p>　　　 　　　／￣￣￣＼<br />　　　　　／　─　 　 ─ ＼<br />　　　 ／　 &lt;○&gt; 　&lt;○&gt;　 ＼.<br />　　　 |　　　　（__人__）　　　　|　ぽけー<br />　　　 ＼　　　 ｀ ⌒´　　　　／<br />　　　 ／ 　 　 　　　　 　 　 ＼</p>

